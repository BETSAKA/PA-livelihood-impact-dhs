[
  {
    "objectID": "07-estimation_staggered.html",
    "href": "07-estimation_staggered.html",
    "title": "9  Estimation with 2X2 and staggered DiD",
    "section": "",
    "text": "9.1 Objectives\nReminder, we have the following hypothesis:",
    "crumbs": [
      "Data analysis",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Estimation with 2X2 and staggered DiD</span>"
    ]
  },
  {
    "objectID": "07-estimation_staggered.html#objectives",
    "href": "07-estimation_staggered.html#objectives",
    "title": "9  Estimation with 2X2 and staggered DiD",
    "section": "",
    "text": "H1-overall effect on livelihoods: PA reduce the living standards of nearby households by restricting access to natural resources, with insufficient compensation or benefits.\nH2-effect on inequalities: PA exacerbate economic inequalities, as better-off or better-connected individuals capture most of the benefits (tourism jobs, development projects).\nH3-heterogeneity: Impacts vary across PA depending on governance, community participation, and management approaches.",
    "crumbs": [
      "Data analysis",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Estimation with 2X2 and staggered DiD</span>"
    ]
  },
  {
    "objectID": "07-estimation_staggered.html#overall-effect-on-livelihoods",
    "href": "07-estimation_staggered.html#overall-effect-on-livelihoods",
    "title": "9  Estimation with 2X2 and staggered DiD",
    "section": "9.2 Overall effect on livelihoods",
    "text": "9.2 Overall effect on livelihoods\n\n9.2.1 2X2 DiD\nIn our PAP, we stated:\n\n“The difference-in-difference principle is to compare the wealth index of control and treatment households before and after the establishment of PA. Our treatment began in 2011, so we use 2008 DHS data for the pre-treatment and 2021 DHS data for the post-treatment. This method relies on the parallel trends assumption, meaning that, in the absence of treatment, treatment and control groups would have experienced similar changes over time. To verify this assumption, we include two pre-treatment, points (DHS 1997 and DHS 2008 data) and assess trends between these years. […] The difference-in-difference method relies on the assumption of parallel trends. To validate this assumption, we will use as a reference, among the rural households surveyed in 1997, those living in an area located in or within of a PA created between 2008 and 2021 (placebo treatment group) and those matched to them using the method described above (placebo control group). We will graphically represent the evolution of the treatment and control groups in 1997, 2008 and 2021 for visual confirmation. To confirm the validity of the parallel trends assumption, we will conduct a placebo test 1997-2008 outcomes, as well as matching and control variables, while defining the treatment variable for post-2008 PA. If the estimated effect between 1997 and 2008 is null or statistically insignificant, this supports the parallel trends assumption.”\n\n\n\nCode\nlibrary(tidyverse)\nlibrary(haven)\nlibrary(fixest)\nlibrary(didimputation)\nlibrary(broom)\nlibrary(ggplot2)\n\n# Chargement des données\nd97 &lt;- read_rds(\"data/derived/data_matched_1997.rds\") %&gt;%\n  rename(spei_wc_n_2 = spei_wc_1995,\n         spei_wc_n_1 = spei_wc_1996,\n         spei_wc_n   = spei_wc_1997) %&gt;%\n  mutate(hv219 = zap_labels(hv219), # hhh sex (1/2)\n         hv220 = zap_labels(hv220)) # hhh age (num)\n\nd08 &lt;- read_rds(\"data/derived/data_matched_2008.rds\") %&gt;%\n  rename(spei_wc_n_2 = spei_wc_2006,\n         spei_wc_n_1 = spei_wc_2007,\n         spei_wc_n   = spei_wc_2008) %&gt;%\n  mutate(hv219 = zap_labels(hv219),\n         hv220 = zap_labels(hv220))\n\nd11 &lt;- read_rds(\"data/derived/data_matched_2011.rds\") %&gt;%\n  rename(spei_wc_n_2 = spei_wc_2009,\n         spei_wc_n_1 = spei_wc_2010,\n         spei_wc_n   = spei_wc_2011) %&gt;%\n  mutate(hv219 = zap_labels(hv219),\n         hv220 = zap_labels(hv220))\n\nd13 &lt;- read_rds(\"data/derived/data_matched_2013.rds\") %&gt;%\n  rename(spei_wc_n_2 = spei_wc_2011,\n         spei_wc_n_1 = spei_wc_2012,\n         spei_wc_n   = spei_wc_2013) %&gt;%\n  mutate(hv219 = zap_labels(hv219),\n         hv220 = zap_labels(hv220))\n\nd16 &lt;- read_rds(\"data/derived/data_matched_2016.rds\") %&gt;%\n  rename(spei_wc_n_2 = spei_wc_2014,\n         spei_wc_n_1 = spei_wc_2015,\n         spei_wc_n   = spei_wc_2016) %&gt;%\n  mutate(hv219 = zap_labels(hv219),\n         hv220 = zap_labels(hv220))\n\nd21 &lt;- read_rds(\"data/derived/data_matched_2021.rds\") %&gt;%\n  rename(spei_wc_n_2 = spei_wc_2019,\n         spei_wc_n_1 = spei_wc_2020,\n         spei_wc_n   = spei_wc_2021) %&gt;%\n  mutate(hv219 = zap_labels(hv219),\n         hv220 = zap_labels(hv220))\n\n# Préparation des données\ndat &lt;- bind_rows(d97, d08, d11, d13, d16, d21) %&gt;%\n  filter(GROUP %in% c(\"Treatment\",\"Control\")) %&gt;%\n  mutate(\n    hv219   = factor(hv219, levels = c(1,2), labels = c(\"Homme\",\"Femme\")), # sexe (cat.)\n    hv220   = as.numeric(hv220),                                           # âge\n    treat   = as.integer(GROUP == \"Treatment\"),\n    w_svy   = hv005 / 1e6,\n    w_all   = w_svy * weights, # poids d'enquête × poids de matching (si 'weights' existe)\n    id      = row_number(),\n    # Map des années de statut -&gt; première année d'observation post (treatment_phase)\n    treatment_phase = case_when(\n      STATUS_YR == 2010 ~ 2011,\n      STATUS_YR == 2012 ~ 2013,\n      STATUS_YR == 2015 ~ 2016,\n      STATUS_YR == 2017 ~ 2021,\n      is.na(STATUS_YR)  ~ 0,\n      TRUE               ~ STATUS_YR\n    )\n  )\n\n# Outcome h\nyvar &lt;- \"wealth_centile_rural_weighted\"\n\n# fixest DID 2×2: placebo 1997–2008, traitement 2008–2021 ------------------\n\n# Placebo 1997–2008\npre &lt;- dat %&gt;%\n  filter(DHSYEAR %in% c(1997, 2008)) %&gt;%\n  mutate(post = as.integer(DHSYEAR == 2008),\n         treat_post = treat * post)\n\nf_pre &lt;- as.formula(paste(\n  yvar, \"~ treat + post + treat_post +\",\n  \"spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220\"\n))\n\nm_pre &lt;- feols(f_pre, data = pre, weights = ~ w_all, cluster = ~ hv001)\n\n# Traitement 2008–2021\nmain &lt;- dat %&gt;%\n  filter(DHSYEAR %in% c(2008, 2021)) %&gt;%\n  mutate(post = as.integer(DHSYEAR == 2021),\n         treat_post = treat * post)\n\nf_main &lt;- f_pre  # même formule\n\nm_main &lt;- feols(f_main, data = main, weights = ~ w_all, cluster = ~ hv001)\n\netable(m_pre, m_main, headers = c(\"Placebo 97–08\", \"Traitement 08–21\"))\n\n\n                                        m_pre                        m_main\n                              Placebo 97–08            Traitement 08–21\nDependent Var.: wealth_centile_rural_weighted wealth_centile_rural_weighted\n                                                                           \nConstant                     44.81*** (4.192)              40.35*** (2.955)\ntreat                          -2.834 (4.228)                -1.786 (3.683)\npost                           -3.892 (5.948)              23.45*** (4.422)\ntreat_post                      1.403 (5.613)                -1.724 (4.359)\nspei_wc_n_2                     5.927 (4.004)                -3.202 (3.279)\nspei_wc_n_1                   -0.5034 (2.525)             -8.250*** (2.098)\nspei_wc_n                       1.435 (4.225)              18.36*** (2.370)\nhv219Femme                    -0.5760 (1.040)            -2.853*** (0.7892)\nhv220                      0.1065*** (0.0258)            0.1042*** (0.0186)\n_______________ _____________________________ _____________________________\nS.E.: Clustered                     by: hv001                     by: hv001\nObservations                            6,831                        11,686\nR2                                    0.00806                       0.07923\nAdj. R2                               0.00690                       0.07860\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nCode\n# Extraction compacte des deux effets DID\ndid_row &lt;- function(model, year_post, vc = ~ hv001, term = \"treat_post\"){\n  summary(model, vcov = vc) %&gt;% broom::tidy() %&gt;%\n    filter(term == !!term) %&gt;%\n    transmute(year = year_post, estimate, se = std.error)\n}\ndid_df &lt;- bind_rows(\n  did_row(m_pre, 2008),\n  did_row(m_main, 2021)\n) %&gt;%\n  mutate(period = factor(ifelse(year == 2008, \"1997–2008\", \"2008–2021\"),\n                         levels = c(\"1997–2008\", \"2008–2021\")),\n         lo = estimate - 1.96*se,\n         hi = estimate + 1.96*se)\n\nggplot(did_df, aes(x = period, y = estimate)) +\n  geom_hline(yintercept = 0, linetype = \"dashed\") +\n  geom_errorbar(aes(ymin = lo, ymax = hi), width = .2) +\n  geom_point(size = 3) +\n  labs(x = NULL, y = \"Effet DID sur le centile de richesse (pondéré)\",\n       title = \"DID 2×2 avec IC clusterisés (hv001)\")\n\n\n\n\n\n\n\n\n\nLe test placebo donne une estimation avec un coefficient faible (+1.8 centile) et non significatif: pas de différence détectée avant intervention dans les tendances du groupe traitement et du groupe contrôle. L’estimation du traitement préente une plus grande magnitude (-4.1 centiles), mais il reste non significatif. Les ménages vivant près des AP semblent connaître, un niveau de bien-être légèrement inférieur à celui des ménages contrôle, mais l’effet n’est pas significatif. A ce stade, l’analyse ne confirme pas l’hypothèse 1 (que les AP réduice le niveau de vie) : le sens de la relation est négatif, mais on ne peut pas rejeter l’hypothèse nulle. L’intervalle de confiance couvre encore largement 0, ce qui signifie qu’on a une précision insuffisante pour détecter un effet. L’effet est donc soit nul, soit inférieur à notre capacité de détection. Dans le PAP, on avait estimé que l’effet devrait être d’au moins 7.5 centiles pour pouvoir être détecté.\n\n\n9.2.2 Staggered diff-in-diff\nIn our PAP, we stated:\n\n“The MIS data can therefore be mobilized for this study. However, the periods covered by MIS only allow for comparisons beyond a simple “before” and “after” framework, which complicates the analysis and necessitates methods with limited methodological consensus. Since 2020, the state of the art in difference-in-difference methods has been challenged by the recognition that classical two-way fixed effects methods can yield spurious results when the effects of an intervention are heterogeneous and assessed over multiple periods. Since then, a dozen alternative approaches have been developed, but econometricians continue to debate their reliability (Roth et al. 2023). To avoid undermining the credibility of our results, we will initially limit ourselves to two study periods (DHS 2008 and 2021). Only if this approach lacks sufficient statistical power will we consider incorporating additional data. […] Additionally, if we incorporate data from MIS 1997, MIS 2011, and MIS 2013, we could apply an estimator suitable for staggered adoption and multiple study periods accounting for potential heterogeneous treatment effects (Borusyak, Jaravel, and Spiess 2024). This will only be performed if power is insufficient with two periods of data.”\n\nPour l’instant, je n’arrive pas à appliquer l’approche de Borusyak, Jaravel et Spiess avec des données en coupes répétées (pas du panel) avec le package R didimputation. En théorie cette méthode peut s’appliquer à des données “repeated cross sections” et il semblerait qu’un package STATA le fasse. Mais je n’ai pas STATA pour tester. On va donc appliquer la méthode de Gardner, qui en principe est très proche (avec des intervalles de confiance un peu plus large).\nNota bene : Afin de stabiliser les estimations de l’event-study, nous avons appliqué un binning des années relatives au traitement, regroupant toutes les observations au-delà de ±5 années dans des catégories communes. Ce choix est motivé par l’espacement irrégulier des enquêtes disponibles, qui implique que certaines valeurs de temps relatif sont représentées par très peu d’observations et produisent des coefficients instables. Comme le soulignent Borusyak, Jaravel et Spiess (2024, p. 22) : “In practice, it is common to bin distant leads and lags into a single category, both to improve statistical precision and to avoid presenting very noisy and uninformative coefficients.” Cette approche permet ainsi de réduire le bruit aux extrêmes et de se concentrer sur l’interprétation des dynamiques principales autour du traitement.\n\n\nCode\n# did2s (Gardner) : statique + event-study--------------------------------\nlibrary(did2s)\n\ndat3 &lt;- dat %&gt;%\n  mutate(\n    treat_on = as.integer(treatment_phase &gt; 0 & DHSYEAR &gt;= treatment_phase),\n    rel_year = if_else(treatment_phase &gt; 0, DHSYEAR - treatment_phase, Inf),\n    # Binning prudent pour stabilité (-5..5)\n    rel_year_binned = pmax(pmin(rel_year, 5), -5)\n  )\n\n# -- Statique (traitement \"on/off\")\ndid2s_static &lt;- did2s(\n  data        = dat3,\n  yname       = yvar,\n  first_stage = ~ spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220 | DHSYEAR,\n  second_stage= ~ i(treat_on, ref = FALSE),\n  treatment   = \"treat_on\",\n  cluster_var = \"hv001\",\n  weights     = \"w_all\"\n)\netable(did2s_static, headers = \"did2s statique\")\n\n\n                                 did2s_static\n                               did2s statique\nDependent Var.: wealth_centile_rural_weighted\n                                             \ntreat_on = 1                    2.515 (2.153)\n_______________ _____________________________\nS.E.: Clustered                     by: hv001\nObservations                           21,923\nR2                                    0.00154\nAdj. R2                               0.00154\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nCode\n# -- Event-study (avec binning -5..5, ref = -1 et never-treated)\ndid2s_es &lt;- did2s(\n  data        = dat3,\n  yname       = yvar,\n  first_stage = ~ spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220 | DHSYEAR,\n  second_stage= ~ i(rel_year_binned, ref = c(-1, Inf)),\n  treatment   = \"treat_on\",\n  cluster_var = \"hv001\",\n  weights     = \"w_all\"\n)\netable(did2s_es, headers = \"did2s event-study (-5..5)\")\n\n\n                                          did2s_es\n                         did2s event-study (-5..5)\nDependent Var.:      wealth_centile_rural_weighted\n                                                  \nrel_year_binned = -5               -0.3257 (1.394)\nrel_year_binned = -3                -3.224 (2.191)\nrel_year_binned = 0                 6.410. (3.517)\nrel_year_binned = 2                -0.4214 (4.912)\nrel_year_binned = 3               15.27*** (2.997)\nrel_year_binned = 5                0.4049 (0.7789)\n____________________ _____________________________\nS.E.: Clustered                          by: hv001\nObservations                                21,923\nR2                                         0.00691\nAdj. R2                                    0.00669\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nCode\n# Plot ES did2s\nplot_did2s &lt;- broom::tidy(did2s_es, conf.int = TRUE) %&gt;%\n  filter(grepl(\"^rel_year_binned::\", term)) %&gt;%\n  mutate(k = as.numeric(sub(\"^rel_year_binned::\", \"\", term))) %&gt;%\n  arrange(k)\n\nggplot(plot_did2s, aes(k, estimate)) +\n  geom_hline(yintercept = 0, linetype = \"dashed\") +\n  geom_point() +\n  geom_errorbar(aes(ymin = conf.low, ymax = conf.high), width = .2) +\n  labs(x = \"Années relatives au 1er traitement (binnées -5..5)\",\n       y = \"Effet estimé\",\n       title = \"Event-study (did2s)\")\n\n\n\n\n\n\n\n\n\nCode\n# Test joint de pré-tendances (tous les leads k &lt; 0)\n# On construit un motif regex pour k = -5..-1 présents dans le modèle\nleads_present &lt;- plot_did2s$k[plot_did2s$k &lt; 0]\nif(length(leads_present) &gt; 0){\n  keep_regex &lt;- paste0(\"^rel_year_binned::(\", paste(leads_present, collapse=\"|\"), \")$\")\n  print(fixest::wald(did2s_es, keep = keep_regex))\n}\n\n\nWald test, H0: joint nullity of rel_year_binned::-5 and rel_year_binned::-3\n stat = 1.11459, p-value = 0.328069, on 2 and 21,917 DoF, VCOV: Corrected Clustered (hv001).$stat\n[1] 1.114589\n\n$p\n[1] 0.3280686\n\n$df1\n[1] 2\n\n$df2\n[1] 21917\n\n$vcov\n[1] \"Corrected Clustered (hv001)\"\n\n\nL’estimation en “statique” donne un coefficient de ~1 centile (0.99), avec une erreur type de 2.1, ce qui indique un résultat non significatif. L’analyse en série temporelle avec binning ±5 ans. Etaye l’hypothèse de tendances parallèle. Les estimations en post semblent apparaître, mais ne semblent pas persister. Cela abonde dans le sens d’un impact faible et non-significatif. De possibles avancées à court-terme (~3 ans après la création de l’AP), mais pas soutenues dans le temps.",
    "crumbs": [
      "Data analysis",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Estimation with 2X2 and staggered DiD</span>"
    ]
  },
  {
    "objectID": "07-estimation_staggered.html#effect-on-inequalities",
    "href": "07-estimation_staggered.html#effect-on-inequalities",
    "title": "9  Estimation with 2X2 and staggered DiD",
    "section": "9.3 Effect on inequalities",
    "text": "9.3 Effect on inequalities\n\n9.3.1 Staggered DiD\n\n\nCode\nyvar &lt;- \"zscore_wealth\"\n\n# did2s (Gardner) : statique + event-study--------------------------------\n# -- Statique (traitement \"on/off\")\ndid2s_static &lt;- did2s(\n  data        = dat3,\n  yname       = yvar,\n  first_stage = ~ spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220 | DHSYEAR,\n  second_stage= ~ i(treat_on, ref = FALSE),\n  treatment   = \"treat_on\",\n  cluster_var = \"hv001\",\n  weights     = \"w_all\"\n)\netable(did2s_static, headers = \"did2s statique\")\n\n\n                    did2s_static\n                  did2s statique\nDependent Var.:    zscore_wealth\n                                \ntreat_on = 1    -0.0007 (0.0058)\n_______________ ________________\nS.E.: Clustered        by: hv001\nObservations              21,923\nR2                      -4.54e-5\nAdj. R2                 -4.54e-5\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nCode\n# -- Event-study (avec binning -5..5, ref = -1 et never-treated)\ndid2s_es &lt;- did2s(\n  data        = dat3,\n  yname       = yvar,\n  first_stage = ~ spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220 | DHSYEAR,\n  second_stage= ~ i(rel_year_binned, ref = c(-1, Inf)),\n  treatment   = \"treat_on\",\n  cluster_var = \"hv001\",\n  weights     = \"w_all\"\n)\netable(did2s_es, headers = \"did2s event-study (-5..5)\")\n\n\n                                      did2s_es\n                     did2s event-study (-5..5)\nDependent Var.:                  zscore_wealth\n                                              \nrel_year_binned = -5          0.0091* (0.0039)\nrel_year_binned = -3           0.0013 (0.0060)\nrel_year_binned = 0           -0.0008 (0.0114)\nrel_year_binned = 2           0.0169* (0.0067)\nrel_year_binned = 3          0.0363** (0.0136)\nrel_year_binned = 5           -0.0033 (0.0021)\n____________________         _________________\nS.E.: Clustered                      by: hv001\nObservations                            21,923\nR2                                     5.82e-5\nAdj. R2                               -0.00017\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nCode\n# Plot ES did2s\nplot_did2s &lt;- broom::tidy(did2s_es, conf.int = TRUE) %&gt;%\n  filter(grepl(\"^rel_year_binned::\", term)) %&gt;%\n  mutate(k = as.numeric(sub(\"^rel_year_binned::\", \"\", term))) %&gt;%\n  arrange(k)\n\nggplot(plot_did2s, aes(k, estimate)) +\n  geom_hline(yintercept = 0, linetype = \"dashed\") +\n  geom_point() +\n  geom_errorbar(aes(ymin = conf.low, ymax = conf.high), width = .2) +\n  labs(x = \"Années relatives au 1er traitement (binnées -5..5)\",\n       y = \"Effet estimé\",\n       title = \"Event-study (did2s)\")\n\n\n\n\n\n\n\n\n\nCode\n# Test joint de pré-tendances (tous les leads k &lt; 0)\n# On construit un motif regex pour k = -5..-1 présents dans le modèle\nleads_present &lt;- plot_did2s$k[plot_did2s$k &lt; 0]\nif(length(leads_present) &gt; 0){\n  keep_regex &lt;- paste0(\"^rel_year_binned::(\", paste(leads_present, collapse=\"|\"), \")$\")\n  print(fixest::wald(did2s_es, keep = keep_regex))\n}\n\n\nWald test, H0: joint nullity of rel_year_binned::-5 and rel_year_binned::-3\n stat = 2.77735, p-value = 0.062225, on 2 and 21,917 DoF, VCOV: Corrected Clustered (hv001).$stat\n[1] 2.777347\n\n$p\n[1] 0.06222523\n\n$df1\n[1] 2\n\n$df2\n[1] 21917\n\n$vcov\n[1] \"Corrected Clustered (hv001)\"\n\n\nRien de très significatif non plus.\n\n\n9.3.2 Quantile treatment effects\n\n\nCode\n# Testing Quantile treatment effects --------------------------------------\nlibrary(qte)\n\n# Avec CiC -------------------\n\n## Traitement 2008 -&gt; 2021\nset.seed(123)\ndat_2per &lt;- dat %&gt;%\n  filter(DHSYEAR %in% c(2008, 2021)) %&gt;%\n  mutate(treat = as.integer(GROUP == \"Treatment\"))\n\ncic_res &lt;- suppressWarnings(CiC(\n  formla = wealth_centile_rural_weighted ~ treat,\n  t = 2021, tmin1 = 2008, tname = \"DHSYEAR\",\n  data = dat_2per,\n  panel = FALSE, # repeated cross-sections\n  se = TRUE, iters = 200, # bootstrap\n  probs = seq(0.05, 0.95, 0.05),\n  xformla = ~ spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220\n))\n\nsummary(cic_res)\n\n\n\nQuantile Treatment Effect:\n        \ntau QTE Std. Error\n0.05     -4.58    2.38\n0.1 -10.81    2.72\n0.15    -17.66    3.18\n0.2 -18.95    2.58\n0.25    -20.74    2.30\n0.3 -22.05    2.44\n0.35    -24.68    2.53\n0.4 -25.64    2.54\n0.45    -28.51    2.47\n0.5 -27.95    2.19\n0.55    -28.25    2.12\n0.6 -26.98    1.85\n0.65    -26.00    1.72\n0.7 -23.59    1.65\n0.75    -20.73    1.69\n0.8 -17.73    1.70\n0.85    -15.45    1.68\n0.9 -12.27    1.59\n0.95     -9.65    1.53\n\nAverage Treatment Effect:   -19.51\n     Std. Error:        1.51\n\n\nCode\nggqte(cic_res) + labs(x=\"Quantiles\", y=\"QTET\", title=\"CiC QTET: 2008-2021\")\n\n\n\n\n\n\n\n\n\nCode\n## placebo\n\n## Placebo: 1997 -&gt; 2008\ndat_placebo &lt;- dat %&gt;%\n  filter(DHSYEAR %in% c(1997, 2008)) %&gt;%\n  mutate(treat = as.integer(GROUP == \"Treatment\"))\n\n# (Optional) sanity check:\n# with(dat_placebo, table(DHSYEAR, treat))\n\ncic_pre &lt;-  suppressWarnings(CiC(\n  formla = wealth_centile_rural_simple ~ treat,\n  t = 2008, tmin1 = 1997, tname = \"DHSYEAR\",\n  data = dat_placebo,\n  panel = FALSE, # repeated cross-sections\n  se = TRUE, iters = 100, # bootstrap\n  probs = seq(0.05, 0.95, 0.05),\n  xformla = ~ spei_wc_n_2 + spei_wc_n_1 + spei_wc_n + hv219 + hv220\n))\n\nsummary(cic_pre)\n\n\n\nQuantile Treatment Effect:\n        \ntau QTE Std. Error\n0.05     17.022   3.911\n0.1  15.121   2.447\n0.15     16.945   2.628\n0.2  19.346   3.356\n0.25     18.850   4.139\n0.3  16.292   4.674\n0.35     15.528   4.690\n0.4  13.770   4.456\n0.45     13.616   4.332\n0.5  11.568   4.732\n0.55     10.253   5.283\n0.6   5.472   5.188\n0.65      4.016   5.084\n0.7  -0.087   5.075\n0.75     -5.272   5.334\n0.8  -7.921   6.155\n0.85    -10.318   5.675\n0.9 -11.809   4.909\n0.95    -16.652   8.555\n\nAverage Treatment Effect:   5.91\n     Std. Error:        3.50\n\n\nCode\nggqte(cic_pre) +\n  labs(x = \"Quantiles\", y = \"QTET\",\n       title = \"Placebo CiC QTET: 1997-2008\")\n\n\n\n\n\n\n\n\n\nPour l’estimation principale (2008-2021), l’ATE est fortement négatif et très significatif (-17.9 centiles!). Les effets négatifs se retrouvent sur l’ensemble de la distribution, mais sont particulièrement marqués pour les centiles les plus faibles. Cela conforterait fortement l’hypothèse 2 (les AP renforcent les inégalités), mais c’est surprenant que ce soit à ce point marqué sur l’ensemble de la distribution alors que le DiD sur le wealth centile n’était pas significatif (Hypothèse 1).\nPour le test placebo, la courbe n’est pas exactement plate : différence significative sur les bas revenus (supérieurs chez les traitements) et inférieure sur les bas revenus.",
    "crumbs": [
      "Data analysis",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Estimation with 2X2 and staggered DiD</span>"
    ]
  }
]